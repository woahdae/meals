%p
  = f.label :name
  %br
  = f.text_field :name
%p
  = f.label :prep_time
  %br
  = f.text_field :prep_time, :value => attr_as_fraction(f.object, :prep_time)
%p
  = f.label :cook_time
  %br
  = f.text_field :cook_time, :value => attr_as_fraction(f.object, :prep_time)
%p
  = f.label :servings
  %br
  = f.text_field :servings
%p
  = f.label :directions
  %br
  = f.text_area :directions

%div
  %h3 Ingredients
  
  %table{:id => "items"}
    = render :partial => "/items/headers"
    - f.fields_for(:items) do |item_form|
      = hidden_field_tag :child_index, @items.size
      
      = render :partial => "/items/item", :locals => {:f => item_form, :item => item_form.object}

= f.hidden_field :user_id, :value => current_user.id