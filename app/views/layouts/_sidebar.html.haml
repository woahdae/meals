%div#sidebar
  %ul
    
    - if current_user.nil?
      %li
        %h3 Log In
        = form_tag session_path do
          %div.span-3{:style => "border-right: 1px dotted #999"}
            Username:
            %br
            = text_field_tag 'login', @login, :size => 10
            %br
            Password:
            %br
            = password_field_tag 'password', nil, :size => 10
            = hidden_field_tag 'remember_me', "1"
            %br
            = submit_tag "Login", :class => "prepend-top"
            &bull;
            = link_to "Signup", signup_path
          %div
            Log in with:
            %ul
              %li= facebook_login_button
          
        %div.clear
    - else
      %div{:style => "text-align:right;position:absolute;top:0", :class => "span-8", :id => "login_bar"}
        - if current_user.facebook_user?
          = facebook_pic(current_user)
          &bull;
          = link_to "logout", logout_path
        - else
          = current_user.name.blank? ? current_user.login : current_user.name
          &bull;
          = facebook_login_button
          &bull;
          = link_to "logout", logout_path

    = render :partial => "/lists/sidebar"
    
    %li{:id => "tools"}
      %h3 Tools
      %ul.links
        %li= link_to "Your Recipes", user_recipes_path(current_user.try(:id) || 0)
        %li= link_to "Your Receipts", "/receipts"
        %li= link_to "Others' Recipes", users_path
        %li= link_to "Food Items", foods_path
    %li
      %h3 Browse the documentation
      %ul.links
        %li <a href="#" onclick="alert('Filler; not really a link');return false">Rails API</a>
        %li <a href="#" onclick="alert('Filler; not really a link');return false">Ruby standard library</a>
        %li <a href="#" onclick="alert('Filler; not really a link');return false">Ruby core</a>
    










